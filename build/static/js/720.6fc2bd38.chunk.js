"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[720],{99720:function(e,t,n){n.r(t);var a=n(74165),r=n(15861),i=n(29439),o=n(72791),s=n(31084),l=n(28127),c=n(11226),u=n(57689),d=n(80184);t.default=function(){var e=(0,c.useRouteLoaderData)("invoice-detail"),t=(0,c.useNavigate)(),n="submitting"===(0,u.useNavigation)().state,f=(0,o.useState)(null),m=(0,i.Z)(f,2),p=m[0],b=m[1],h=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(r){var i,o,s;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),i=(0,l.bW)(),(o=new FormData).append("file",p),n.prev=4,n.next=7,fetch("https://flask-inventory.onrender.com/invoice/upload/".concat(e.id),{method:"POST",headers:{Authorization:"Bearer "+i},body:o});case 7:400===(s=n.sent).status&&window.alert("Only PDF attachment are allowed!!"),s.ok?window.confirm("File uploaded successfully! Do you want to go to the invoice page?")&&t(".."):window.alert("failed to upload"),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(4),window.alert("Network error",n.t0);case 15:case"end":return n.stop()}}),n,null,[[4,12]])})));return function(e){return n.apply(this,arguments)}}();return(0,d.jsx)(s.Z,{children:(0,d.jsx)("form",{onSubmit:h,children:(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)("label",{htmlFor:"formFileMultiple",className:"form-label",children:(0,d.jsx)("b",{children:"Invoice Attachment"})}),(0,d.jsx)("input",{name:"file",className:"form-control",type:"file",id:"formFileMultiple",onChange:function(e){b(e.target.files[0])},required:!0}),(0,d.jsx)("br",{}),(0,d.jsx)("button",{disabled:n,className:"btn btn-success",type:"submit",children:n?"submitting":"submit"}),(0,d.jsx)("button",{className:"btn btn-warning",type:"button",onClick:function(){t("..")},children:"Cancel"})]})})})}}}]);
//# sourceMappingURL=720.6fc2bd38.chunk.js.map