{"version":3,"file":"static/js/11.14263a1c.chunk.js","mappings":"8PAwHA,MArHA,SAA6B,GAAY,IAAXA,EAAO,EAAPA,QACtBC,GAAQC,EAAAA,EAAAA,oBAAmB,QAC3BC,GAASC,EAAAA,EAAAA,MACTC,GAAWC,EAAAA,EAAAA,eAajB,OACE,iBAAKC,UAAU,0BAAyB,WACtC,eAAIA,UAAU,6BAA4B,SAAC,aAC3C,gBAAKA,UAAU,2BAA0B,UACvC,mBAAOA,UAAU,sCAAqC,WACpD,kBAAOA,UAAU,aAAY,UAC3B,yBACE,eACEC,MAAM,MACND,UAAU,iFAAgF,SAC3F,8BAKL,kBAAOA,UAAU,oCAAmC,UAClD,iCACE,gBAAIA,UAAU,mDAAkD,WAC9D,gBAAIA,UAAU,gEAA+D,UAC1E,IAAI,gBACS,QAEhB,gBAAIA,UAAU,oDAAmD,UAC9D,IACAP,EAAQS,QAAQC,SAASC,cAAe,WAG7C,gBAAIJ,UAAU,mDAAkD,WAC9D,gBAAIA,UAAU,oDAAmD,UAC9D,IAAI,iBACU,QAEjB,gBAAIA,UAAU,oDAAmD,UAC9D,IACAP,EAAQS,QAAQG,eAAgB,WAGrC,2BACE,gBAAIL,UAAU,oDAAmD,UAC9D,IAAI,eACQ,QAEf,gBAAIA,UAAU,oDAAmD,UAC9D,IACAP,EAAQa,KAAM,WAGnB,2BACE,eAAIN,UAAU,oDAAmD,SAAC,kBAGlE,eAAIA,UAAU,oDAAmD,SAC9DP,EAAQS,QAAQI,OACb,QAER,2BACE,gBAAIN,UAAU,oDAAmD,UAC9D,IAAI,WACI,QAEX,gBAAIA,UAAU,oDAAmD,UAC9D,IACAP,EAAQc,SAAU,WAGvB,2BACE,gBAAIP,UAAU,oDAAmD,UAC9D,IAAI,UACG,QAEV,gBAAIA,UAAU,oDAAmD,UAC9D,IACAP,EAAQS,QAAQM,iBAAiB,GAAGC,QAAS,WAGlD,wBACGf,IACC,6BACE,gBAAIM,UAAU,oDAAmD,UAC9D,KACD,mBAAQU,QAvF5B,WACkBC,OAAOC,QAAQ,kBAG7BhB,EAAO,KAAM,CAAEiB,OAAQ,UAE3B,EAiFwD,SAAC,WAAgB,QAEvD,gBAAIb,UAAU,oDAAmD,UAC9D,KACD,mBAAQU,QA/F5B,WACEZ,EAAS,KACX,EA6FmD,SAAC,SAAc,QAEhD,gBAAIE,UAAU,oDAAmD,UAC9D,KACD,SAAC,KAAI,CAACc,GAAG,OAAM,SAAC,6BAWtC,ECtGA,MAPA,WACE,IAAMrB,GAAWE,EAAAA,EAAAA,oBAAmB,2BACpC,OACE,SAAC,EAAmB,CAACF,QAASA,GAElC,EAIO,SAAesB,EAAO,GAAD,+BAoB3B,8CApBM,kGAGyB,OAHDC,EAAM,EAANA,OAAe,EAAPC,QAC/BC,EAAKF,EAAOE,GACZxB,GAAQyB,EAAAA,EAAAA,MACJ,qBAAqB,EAAD,OACPC,MADb,qBACyBF,EAAI,CACrCL,OAAQ,MACRQ,QAAS,CACPC,cAAe,UAAY5B,KAE5B,KAAD,EALY,GAMU,OANlB6B,EAAQ,QAMDC,OAAc,iBACc,OAAvCb,OAAOc,MAAM,0BAA0B,mBAChCC,EAAAA,EAAAA,UAAS,sBAAoB,WAEjCH,EAASI,GAAG,CAAD,sBACRC,EAAAA,EAAAA,MAAK,CAAEC,QAAS,2BAA6B,CAAEL,OAAQ,MAAO,KAAD,oBAG/CD,EAASK,OAAO,KAAD,GAAxB,OAAPE,EAAO,yBACNA,GAAO,6CACf,sB","sources":["components/CustomerPaymentComponents/CustomerPaymentItem.js","pages/CustomerPaymentsPage/CustomerPaymentDetailPage.js"],"sourcesContent":["import React from \"react\";\nimport { useSubmit, Link, useRouteLoaderData, useNavigate } from \"react-router-dom\";\n\nfunction CustomerPaymentItem({payment}) {\n  const token = useRouteLoaderData(\"root\");\n  const submit = useSubmit();\n  const navigate = useNavigate()\n\n  function cancelHandler() {\n    navigate(\"..\");\n  }\n\n  function startDeleteHandler() {\n    const proceed = window.confirm(\"Are you sure?\");\n\n    if (proceed) {\n      submit(null, { method: \"delete\" });\n    }\n  }\n  return (\n    <div className=\"max-w-screen-lg mx-auto\">\n      <h2 className=\"text-lg font-semibold mb-4\">Payment</h2>\n      <div className=\"shadow border rounded-md\">\n        <table className=\"min-w-full divide-y divide-gray-200\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th\n                scope=\"col\"\n                className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n              >\n                Payment information.\n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            <>\n              <tr className=\"hover:bg-gray-100 transition-colors duration-200\">\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                  {\" \"}\n                  Customer name{\" \"}\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  {\" \"}\n                  {payment.receipt.customer.customer_name}{\" \"}\n                </td>\n              </tr>\n              <tr className=\"hover:bg-gray-100 transition-colors duration-200\">\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  {\" \"}\n                  Invoice number{\" \"}\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  {\" \"}\n                  {payment.receipt.receipt_number}{\" \"}\n                </td>\n              </tr>\n              <tr>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  {\" \"}\n                  Payment Date{\" \"}\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  {\" \"}\n                  {payment.date}{\" \"}\n                </td>\n              </tr>\n              <tr>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  Invoice Date\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  {payment.receipt.date}\n                </td>{\" \"}\n              </tr>\n              <tr>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  {\" \"}\n                  Currency{\" \"}\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  {\" \"}\n                  {payment.currency}{\" \"}\n                </td>\n              </tr>\n              <tr>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  {\" \"}\n                  Balance{\" \"}\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  {\" \"}\n                  {payment.receipt.customer_balance[0].balance}{\" \"}\n                </td>\n              </tr>\n              <tr>\n                {token && (\n                  <menu>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {\" \"}\n                      <button onClick={startDeleteHandler}>Delete</button>{\" \"}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {\" \"}\n                      <button onClick={cancelHandler}>Back</button>{\" \"}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {\" \"}\n                      <Link to=\"edit\">Edit</Link>\n                    </td>\n                  </menu>\n                )}\n              </tr>\n            </>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  )\n}\n\nexport default CustomerPaymentItem","import React from \"react\";\nimport { getAuthToken } from \"../../util/Auth\";\nimport {\n  json,\n  redirect,\n  useRouteLoaderData,\n} from \"react-router-dom\";\nimport CustomerPaymentItem from \"../../components/CustomerPaymentComponents/CustomerPaymentItem\";\n\nfunction CustomerPaymentDetailPage() {\n  const payment  = useRouteLoaderData(\"customer-payment-detail\");\n  return (\n    <CustomerPaymentItem payment={payment} />\n  );\n}\n\nexport default CustomerPaymentDetailPage;\n\nexport async function loader({ params, request }) {\n  const id = params.id;\n  const token = getAuthToken();\n  let url = \"/customer/payment/\";\n  const response = await fetch(url + id, {\n    method: \"GET\",\n    headers: {\n      Authorization: \"Bearer \" + token,\n    },\n  });\n  if (response.status === 404) {\n    window.alert(\"Payment does not exist\");\n    return redirect(\"/customer-payment\");\n  }\n  if (!response.ok) {\n    throw json({ message: \"This is a wrong request\" }, { status: 500 });\n  }\n\n  const resData = await response.json();\n  return resData;\n}\n"],"names":["payment","token","useRouteLoaderData","submit","useSubmit","navigate","useNavigate","className","scope","receipt","customer","customer_name","receipt_number","date","currency","customer_balance","balance","onClick","window","confirm","method","to","loader","params","request","id","getAuthToken","fetch","headers","Authorization","response","status","alert","redirect","ok","json","message","resData"],"sourceRoot":""}