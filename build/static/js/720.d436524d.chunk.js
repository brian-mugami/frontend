"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[720],{99720:function(e,t,n){n.r(t);var i=n(74165),a=n(15861),o=n(29439),s=n(72791),l=n(31084),r=n(28127),u=n(11226),c=n(80184);t.default=function(){var e=(0,u.useRouteLoaderData)("invoice-detail"),t=(0,u.useNavigate)(),n="submitting"===(0,u.useNavigation)().state,d=(0,s.useState)(null),f=(0,o.Z)(d,2),m=f[0],b=f[1],h=function(){var n=(0,a.Z)((0,i.Z)().mark((function n(a){var o,s,l;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),o=(0,r.bW)(),(s=new FormData).append("file",m),n.prev=4,n.next=7,fetch("https://flask-inventory.onrender.com/invoice/upload/".concat(e.id),{method:"POST",headers:{Authorization:"Bearer "+o},body:s});case 7:400===(l=n.sent).status&&window.alert("Only PDF attachment are allowed!!"),l.ok?window.confirm("File uploaded successfully! Do you want to go to the invoice page?")&&t(".."):window.alert("failed to upload"),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(4),window.alert("Network error",n.t0);case 15:case"end":return n.stop()}}),n,null,[[4,12]])})));return function(e){return n.apply(this,arguments)}}();return(0,c.jsx)(l.Z,{children:(0,c.jsx)("form",{onSubmit:h,children:(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{htmlFor:"formFileMultiple",className:"form-label",children:(0,c.jsx)("h2",{className:"text-base font-semibold leading-7 text-gray-900",children:"Invoice attachment"})}),(0,c.jsx)("input",{name:"file",className:"form-control mt-1 text-sm leading-6 text-gray-600 ",type:"file",id:"formFileMultiple",onChange:function(e){b(e.target.files[0])},required:!0}),(0,c.jsx)("br",{}),(0,c.jsxs)("div",{className:"space-x-4",children:[(0,c.jsx)("button",{className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",type:"submit",disabled:n,children:n?"Submitting":"Submit"}),(0,c.jsx)("button",{onClick:function(){t("..")},type:"button",className:"text-sm font-semibold leading-6 text-gray-900",children:"Cancel"})]})]})})})}}}]);
//# sourceMappingURL=720.d436524d.chunk.js.map