"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[926],{91926:function(e,n,t){t.r(n),t.d(n,{default:function(){return m},loader:function(){return g}});var r=t(74165),i=t(15861),a=t(72791),s=t(29439),c=t(11087),o=t(79793),u=t(80184);var l=function(e){var n=e.payments,t=(0,a.useState)(1),r=(0,s.Z)(t,2),i=r[0],l=r[1],d=10*(i-1),p=d+10,f=n.slice(d,p),m=Math.ceil(n.length/10),x=[{field:"payment",headerName:"Payment",flex:1,renderCell:function(e){return(0,u.jsx)(c.rU,{to:"./".concat(e.row.id),children:e.row.id})}},{field:"customer",headerName:"Customer",flex:1,valueGetter:function(e){return e.row.receipt.customer.customer_name||""}},{field:"receiptNumber",headerName:"Receipt Number",flex:1,valueGetter:function(e){return e.row.receipt.receipt_number||""}},{field:"approved",headerName:"Approved",flex:1,valueGetter:function(e){return!0===e.row.approved?"approved":"Not Approved"}},{field:"paymentDate",headerName:"Payment Date",flex:1,valueGetter:function(e){return e.row.date||""}},{field:"receiptDate",headerName:"Receipt Date",flex:1,valueGetter:function(e){return e.row.receipt.date||""}},{field:"actions",headerName:"Actions",flex:1,renderCell:function(e){return(0,u.jsxs)("div",{className:"flex",children:[(0,u.jsx)("div",{className:"pr-2",children:(0,u.jsx)("span",{className:"inline-flex items-center rounded-md bg-red-50 px-2 py-1 text-xs font-medium text-red-700 ring-1 ring-inset ring-red-600/10",children:(0,u.jsx)(c.rU,{to:"./".concat(e.row.id,"/approve"),children:"Approve"})})}),(0,u.jsx)("div",{children:(0,u.jsx)("span",{className:"inline-flex items-center rounded-md bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700 ring-1 ring-inset ring-blue-700/10",children:(0,u.jsx)(c.rU,{to:"./".concat(e.row.id,"/accounting"),children:"Accounting"})})}),(0,u.jsx)("div",{children:(0,u.jsx)("span",{className:"inline-flex items-center rounded-md bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700 ring-1 ring-inset ring-blue-700/10",children:(0,u.jsx)(c.rU,{to:"./".concat(e.row.id,"/reject"),children:"Reject"})})})]})}}];return(0,u.jsxs)("div",{style:{height:400,width:"100%"},children:[(0,u.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Payments"}),(0,u.jsx)(o._,{rows:f,columns:x,pagination:!0,pageSize:10,onPageChange:function(e){l(e.page+1)},rowCount:n.length,paginationMode:"server"}),m>1&&(0,u.jsx)("div",{className:"flex justify-center mt-4",children:(0,u.jsx)("nav",{className:"inline-flex rounded-md shadow",children:(0,u.jsx)("ul",{className:"flex",children:Array.from({length:m},(function(e,n){return(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:"px-4 py-2 ".concat(i===n+1?"bg-gray-900 text-white":"bg-white text-gray-700"," font-medium"),onClick:function(){return l(n+1)},children:n+1})},n)}))})})})]})},d=t(28127),p=t(57689),f=t(63924);var m=function(){var e=(0,p.useRouteLoaderData)("customer-payments").payments;return(0,u.jsx)(a.Suspense,{fallback:(0,u.jsx)("p",{children:"Loading...."}),children:(0,u.jsx)(p.Await,{resolve:e,children:function(e){return(0,u.jsx)(l,{payments:e})}})})};function x(){return h.apply(this,arguments)}function h(){return(h=(0,i.Z)((0,r.Z)().mark((function e(){var n,t,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,d.bW)(),e.next=3,fetch("https://flask-inventory.onrender.com/customer/payment",{method:"GET",headers:{Authorization:"Bearer "+n,"Access-Control-Allow-Origin":"*"}});case 3:if((t=e.sent).ok){e.next=6;break}throw(0,f.json)({message:"No payments loaded"},{status:500});case 6:return e.next=8,t.json();case 8:return i=e.sent,e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return v.apply(this,arguments)}function v(){return(v=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.defer)({payments:x()}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=926.33cd60a2.chunk.js.map