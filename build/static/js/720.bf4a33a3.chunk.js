"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[720],{99720:function(e,t,n){n.r(t);var a=n(74165),r=n(15861),i=n(29439),o=n(72791),l=n(31084),s=n(28127),c=n(11226),u=n(80184);t.default=function(){var e=(0,c.useRouteLoaderData)("invoice-detail"),t=(0,c.useNavigate)(),n="submitting"===(0,c.useNavigation)().state,d=(0,o.useState)(null),f=(0,i.Z)(d,2),m=f[0],h=f[1],p=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(r){var i,o,l;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),i=(0,s.bW)(),(o=new FormData).append("file",m),n.prev=4,n.next=7,fetch("https://flask-inventory.onrender.com/invoice/upload/".concat(e.id),{method:"POST",headers:{Authorization:"Bearer "+i},body:o});case 7:400===(l=n.sent).status&&window.alert("Only PDF attachment are allowed!!"),l.ok?window.confirm("File uploaded successfully! Do you want to go to the invoice page?")&&t(".."):window.alert("failed to upload"),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(4),window.alert("Network error",n.t0);case 15:case"end":return n.stop()}}),n,null,[[4,12]])})));return function(e){return n.apply(this,arguments)}}();return(0,u.jsx)(l.Z,{children:(0,u.jsx)("form",{onSubmit:p,children:(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsx)("label",{htmlFor:"formFileMultiple",className:"form-label",children:(0,u.jsx)("h2",{className:"text-base font-semibold leading-7 text-gray-900",children:"Invoice attachment"})}),(0,u.jsx)("input",{name:"file",className:"form-control ",type:"file",id:"formFileMultiple",onChange:function(e){h(e.target.files[0])},required:!0}),(0,u.jsx)("br",{}),(0,u.jsx)("button",{className:"btn btn-success",type:"submit",disabled:n,children:n?"Submitting":"Submit"}),(0,u.jsx)("button",{onClick:function(){t("..")},type:"button",className:"text-sm font-semibold leading-6 text-gray-900",children:"Cancel"})]})})})}}}]);
//# sourceMappingURL=720.bf4a33a3.chunk.js.map