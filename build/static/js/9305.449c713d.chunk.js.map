{"version":3,"file":"static/js/9305.449c713d.chunk.js","mappings":"sSA6BA,MA1BA,SAAkB,GAAW,IAATA,EAAI,EAAJA,KACZC,GAAQC,EAAAA,EAAAA,oBAAmB,QAC3BC,GAASC,EAAAA,EAAAA,MAUf,OACE,UAAC,WAAc,YACb,wBAAKJ,EAAKK,SACV,4BAAM,oBAAkBL,EAAKM,mBAC5BL,IACC,6BACE,SAAC,KAAI,CAACM,GAAG,OAAM,SAAC,UAChB,mBAAQC,QAfhB,WACkBC,OAAOC,QAAQ,kBAG7BP,EAAO,KAAM,CAAEQ,OAAQ,QAE3B,EAS4C,SAAEX,IAA2B,IAAnBA,EAAKY,UAAqB,aAAe,kBAKjG,ECbA,MATA,WACE,IAAMZ,GAAOE,EAAAA,EAAAA,oBAAmB,eAChC,OACE,SAAC,WAAc,WACb,SAAC,EAAQ,CAACF,KAAMA,KAGtB,EAIO,SAAea,EAAO,GAAD,+BAa3B,8CAbM,gGAEqB,OAFEC,EAAM,EAANA,OAAe,EAAPC,QAE5BC,EAAKF,EAAOG,OAAM,SACDC,MAAM,kDAAoDF,GAAG,OAAtE,IAARG,EAAQ,QACAC,GAAG,CAAC,EAAF,mBACNC,EAAAA,EAAAA,MACF,CAACC,QAAQ,qCACT,CAACC,OAAQ,MACX,KAAD,mBAEqBJ,EAASE,OAAM,QAAxB,OAAPG,EAAO,yBACNA,GAAO,6CAErB,sBAEM,SAAeC,EAAO,GAAD,+BAkB3B,8CAlBM,gGAEqB,OAFEX,EAAM,EAANA,OAAQC,EAAO,EAAPA,QAC5Bd,GAAQyB,EAAAA,EAAAA,gBACRV,EAAKF,EAAOG,OAAM,SACDC,MAAM,kDAAoDF,EAAI,CACjFL,OAAQI,EAAQJ,OAChBgB,QAAS,CACL,cAAiB,UAAW1B,EAC5B,8BAA+B,OAGpC,KAAD,EAPY,UAQDmB,GAAG,CAAC,EAAF,mBACLC,EAAAA,EAAAA,MACF,CAACC,QAAS,yBACV,CAACC,OAAQ,MACZ,OACH,0BACKK,EAAAA,EAAAA,UAAU,UAAQ,6CAC5B,sB","sources":["components/UserComponents/UserItem.js","pages/UserPages/UserDetailPage.js"],"sourcesContent":["import React from \"react\";\r\nimport { Link, useRouteLoaderData, useSubmit } from \"react-router-dom\";\r\n\r\nfunction UserItem({ user }) {\r\n  const token = useRouteLoaderData(\"root\");\r\n  const submit = useSubmit();\r\n\r\n  function startDeleteHandler() {\r\n    const proceed = window.confirm(\"Are you sure?\");\r\n\r\n    if (proceed) {\r\n      submit(null, { method: \"post\" });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <h1>{user.email}</h1>\r\n      <time>Date Registered: {user.date_registered}</time>\r\n      {token && (\r\n        <menu>\r\n          <Link to=\"edit\">Edit</Link>\r\n          <button onClick={startDeleteHandler}>{user && user.is_active === true ? \"deactivate\" : \"activate\"}</button>\r\n        </menu>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default UserItem;\r\n","import { json, redirect, useRouteLoaderData } from \"react-router-dom\";\r\nimport { getAuthToken } from \"../../util/Auth\";\r\nimport UserItem from \"../../components/UserComponents/UserItem\";\r\nimport React from \"react\";\r\n\r\nfunction UserDetailPage() {\r\n  const user = useRouteLoaderData(\"user-detail\");\r\n  return (\r\n    <React.Fragment>\r\n      <UserItem user={user} />\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default UserDetailPage;\r\n\r\nexport async function loader({params, request}){\r\n\r\n    const id = params.userId\r\n    const response = await fetch('https://inventory-accounting.onrender.com/user/' + id)\r\n    if (!response.ok){\r\n        throw json(\r\n            {message:'Could not get details of the user'},\r\n            {status: 500}\r\n        );\r\n    }else{\r\n        const resData = await response.json()\r\n        return resData;\r\n    }\r\n} \r\n\r\nexport async function action({params, request}){\r\n    const token = getAuthToken()\r\n    const id = params.userId\r\n    const response = await fetch('https://inventory-accounting.onrender.com/user/' + id, {\r\n        method: request.method,\r\n        headers: {\r\n            'Authorization': \"Bearer \"+ token,\r\n            \"Access-Control-Allow-Origin\": \"*\",\r\n\r\n        }\r\n    });\r\n    if(!response.ok){\r\n        throw json(\r\n            {message: 'Could not delete user'},\r\n            {status: 500}\r\n        )\r\n    };\r\n    return redirect ('/user')\r\n}"],"names":["user","token","useRouteLoaderData","submit","useSubmit","email","date_registered","to","onClick","window","confirm","method","is_active","loader","params","request","id","userId","fetch","response","ok","json","message","status","resData","action","getAuthToken","headers","redirect"],"sourceRoot":""}