{"version":3,"file":"static/js/943.cc6dfbad.chunk.js","mappings":"2JAmDA,UA7CA,WAEE,IAAMA,GAAaC,EAAAA,EAAAA,iBACbC,GAAQC,EAAAA,EAAAA,MACRC,EAAoC,eAArBJ,EAAWK,MAE1BC,EAAU,CACdC,cAAe,UAAYL,GA8B7B,OACE,UAAC,WAAc,YACb,wBAAI,8BACJ,mBAAQM,UAAU,kBAAkBC,SAAUL,EAAcM,QA9BzC,WACrBC,MAAM,gBAAiB,CAACL,QAAAA,IACrBM,MAAK,SAACC,GACL,GAAIA,EAASC,GACX,OAAOD,EAASE,OAElBC,OAAOC,MAAM,kBACf,IACCL,MAAK,SAACG,GACL,IACMG,GADO,IAAIC,MACUC,mBAAmB,QAAS,CACrDC,KAAM,UACNC,MAAO,UACPC,IAAK,YAEDC,EAAQ,+BAA2BN,EAAa,SAEhDO,EAAcC,IAAIC,gBAAgBZ,GAClCa,EAAOC,SAASC,cAAc,KACpCF,EAAKG,KAAON,EACZG,EAAKI,SAAWR,EAChBI,EAAKK,OACP,IACCC,OAAM,SAACC,GACNnB,OAAOC,MAAM,oBACf,GACJ,EAIwF,SAAEb,EAAe,cAAgB,oCAG3H,C","sources":["pages/ReportsPage/ReportsListPage.js"],"sourcesContent":["import React from \"react\";\r\nimport {\r\n  useNavigation,\r\n} from \"react-router-dom/dist/umd/react-router-dom.development\";\r\nimport { getAuthToken } from \"../../util/Auth\";\r\n\r\nfunction ReportsList() {\r\n\r\n  const navigation = useNavigation();\r\n  const token = getAuthToken()\r\n  const isSubmitting = navigation.state === \"submitting\";\r\n\r\n  const headers = {\r\n    Authorization: 'Bearer ' + token\r\n  };\r\n\r\n  const handleDownload = () => {\r\n    fetch(\"/stockholding\", {headers})\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          return response.blob();\r\n        }\r\n        window.alert(\"Download Failed\");\r\n      })\r\n      .then((blob) => {\r\n        const date = new Date();\r\n        const formattedDate = date.toLocaleDateString(\"en-US\", {\r\n          year: \"numeric\",\r\n          month: \"2-digit\",\r\n          day: \"2-digit\",\r\n        });\r\n        const filename = `stock_holding_report_${formattedDate}.xlsx`;\r\n\r\n        const downloadUrl = URL.createObjectURL(blob);\r\n        const link = document.createElement(\"a\");\r\n        link.href = downloadUrl;\r\n        link.download = filename;\r\n        link.click();\r\n      })\r\n      .catch((error) => {\r\n        window.alert(\"An error occurred\");\r\n      });\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <h1>This is the reports page</h1>\r\n      <button className=\"btn btn-primary\" disabled={isSubmitting} onClick={handleDownload}>{isSubmitting ? \"Downloading\" : \"Download Stock Holding Report\"}</button>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default ReportsList;\r\n"],"names":["navigation","useNavigation","token","getAuthToken","isSubmitting","state","headers","Authorization","className","disabled","onClick","fetch","then","response","ok","blob","window","alert","formattedDate","Date","toLocaleDateString","year","month","day","filename","downloadUrl","URL","createObjectURL","link","document","createElement","href","download","click","catch","error"],"sourceRoot":""}