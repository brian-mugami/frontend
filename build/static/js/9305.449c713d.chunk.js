"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[9305],{19305:function(e,t,r){r.r(t),r.d(t,{action:function(){return m},default:function(){return f},loader:function(){return l}});var n=r(74165),s=r(15861),u=r(57689),a=r(63924),o=r(28127),i=r(72791),c=r(11087),d=r(80184);var h=function(e){var t=e.user,r=(0,u.useRouteLoaderData)("root"),n=(0,c.qd)();return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)("h1",{children:t.email}),(0,d.jsxs)("time",{children:["Date Registered: ",t.date_registered]}),r&&(0,d.jsxs)("menu",{children:[(0,d.jsx)(c.rU,{to:"edit",children:"Edit"}),(0,d.jsx)("button",{onClick:function(){window.confirm("Are you sure?")&&n(null,{method:"post"})},children:t&&!0===t.is_active?"deactivate":"activate"})]})]})};var f=function(){var e=(0,u.useRouteLoaderData)("user-detail");return(0,d.jsx)(i.Fragment,{children:(0,d.jsx)(h,{user:e})})};function l(e){return p.apply(this,arguments)}function p(){return(p=(0,s.Z)((0,n.Z)().mark((function e(t){var r,s,u,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.params,t.request,s=r.userId,e.next=4,fetch("https://inventory-accounting.onrender.com/user/"+s);case 4:if((u=e.sent).ok){e.next=9;break}throw(0,a.json)({message:"Could not get details of the user"},{status:500});case 9:return e.next=11,u.json();case 11:return o=e.sent,e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return x.apply(this,arguments)}function x(){return(x=(0,s.Z)((0,n.Z)().mark((function e(t){var r,s,u,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.params,s=t.request,u=(0,o.getAuthToken)(),i=r.userId,e.next=5,fetch("https://inventory-accounting.onrender.com/user/"+i,{method:s.method,headers:{Authorization:"Bearer "+u,"Access-Control-Allow-Origin":"*"}});case 5:if(e.sent.ok){e.next=8;break}throw(0,a.json)({message:"Could not delete user"},{status:500});case 8:return e.abrupt("return",(0,a.redirect)("/user"));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=9305.449c713d.chunk.js.map