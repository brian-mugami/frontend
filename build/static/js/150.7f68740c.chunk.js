"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[150],{3150:function(t,e,n){n.r(e),n.d(e,{loader:function(){return d}});var r=n(74165),s=n(15861),a=n(29439),u=n(72791),c=n(57689),o=n(11087),i=n(11226),l=n(28127),h=n(80184);function p(){return f.apply(this,arguments)}function f(){return(f=(0,s.Z)((0,r.Z)().mark((function t(){var e,n,s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,l.bW)(),t.next=3,fetch("/customer",{method:"get",headers:{Authorization:"Bearer "+e}});case 3:if((n=t.sent).ok){t.next=8;break}throw(0,i.json)({message:"Cant get customers"},{status:500});case 8:return t.next=10,n.json();case 10:return s=t.sent,t.abrupt("return",s);case 12:case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(){return m.apply(this,arguments)}function m(){return(m=(0,s.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=i.defer,t.next=3,p();case 3:return t.t1=t.sent,t.t2={customers:t.t1},t.abrupt("return",(0,t.t0)(t.t2));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.default=function(t){var e=t.onSearch,n=(0,c.useNavigate)(),r=(0,c.useNavigation)(),s=(0,u.useState)(""),l=(0,a.Z)(s,2),p=l[0],f=l[1],d="submitting"===r.state,m=(0,i.useLoaderData)().customers;return(0,h.jsx)(u.Fragment,{children:(0,h.jsxs)(o.l0,{id:"search-form",onSubmit:function(t){t.preventDefault(),e(p)},children:[(0,h.jsx)("label",{children:"Search the customer"}),(0,h.jsx)("input",{required:!0,name:"customer_name",type:"text",list:"options",placeholder:"search customer",value:p,onChange:function(t){f(t.target.value)}}),(0,h.jsx)("datalist",{id:"options",children:m.map((function(t){return(0,h.jsx)("option",{value:t.customer_name},t.id)}))}),(0,h.jsx)("button",{disabled:d||0===p.length,type:"submit",className:"btn btn-success",children:d?"Searching...":"Search"}),(0,h.jsx)("button",{onClick:function(){n("..")},type:"button",className:"btn btn-dark",children:"Cancel"})]})})}}}]);
//# sourceMappingURL=150.7f68740c.chunk.js.map