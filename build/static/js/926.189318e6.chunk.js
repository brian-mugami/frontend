"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[926],{91926:function(e,n,r){r.r(n),r.d(n,{default:function(){return f},loader:function(){return g}});var t=r(74165),a=r(15861),i=r(72791),s=r(29439),c=r(11087),o=r(79793),l=r(80184);var u=function(e){var n=e.payments,r=(0,i.useState)(1),t=(0,s.Z)(r,2),a=t[0],u=t[1],d=10*(a-1),p=d+10,m=n.slice(d,p),f=Math.ceil(n.length/10),x=[{field:"payment",headerName:"Payment",flex:1,renderCell:function(e){return(0,l.jsx)(c.rU,{to:"./".concat(e.row.id),children:e.row.id})}},{field:"customer",headerName:"Customer",flex:1,valueGetter:function(e){return e.row.receipt.customer.customer_name||""}},{field:"receiptNumber",headerName:"Receipt Number",flex:1,valueGetter:function(e){return e.row.receipt.receipt_number||""}},{field:"approved",headerName:"Approved",flex:1,valueGetter:function(e){return!0===e.row.approved?"approved":"Not Approved"}},{field:"paymentDate",headerName:"Payment Date",flex:1,valueGetter:function(e){return e.row.date||""}},{field:"receiptDate",headerName:"Receipt Date",flex:1,valueGetter:function(e){return e.row.receipt.date||""}},{field:"actions",headerName:"Actions",flex:1,renderCell:function(e){return(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("div",{className:"pr-2",children:(0,l.jsx)("span",{className:"inline-flex items-center rounded-md bg-red-50 px-2 py-1 text-xs font-medium text-red-700 ring-1 ring-inset ring-red-600/10",children:(0,l.jsx)(c.rU,{to:"./".concat(e.row.id,"/approve"),children:"Approve"})})}),(0,l.jsx)("div",{children:(0,l.jsx)("span",{className:"inline-flex items-center rounded-md bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700 ring-1 ring-inset ring-blue-700/10",children:(0,l.jsx)(c.rU,{to:"./".concat(e.row.id,"/accounting"),children:"Accounting"})})}),(0,l.jsx)("div",{children:(0,l.jsx)("span",{className:"inline-flex items-center rounded-md bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700 ring-1 ring-inset ring-blue-700/10",children:(0,l.jsx)(c.rU,{to:"./".concat(e.row.id,"/reject"),children:"Reject"})})})]})}}];return(0,l.jsxs)("div",{style:{height:400,width:"100%"},className:"overscroll-contain",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Payments"}),(0,l.jsx)(o._,{className:"overscroll-contain",rows:m,columns:x,pagination:!0,pageSize:10,onPageChange:function(e){u(e.page+1)},rowCount:n.length,paginationMode:"server"}),f>1&&(0,l.jsx)("div",{className:"flex justify-center mt-4",children:(0,l.jsx)("nav",{className:"inline-flex rounded-md shadow",children:(0,l.jsx)("ul",{className:"flex",children:Array.from({length:f},(function(e,n){return(0,l.jsx)("li",{children:(0,l.jsx)("button",{className:"px-4 py-2 ".concat(a===n+1?"bg-gray-900 text-white":"bg-white text-gray-700"," font-medium"),onClick:function(){return u(n+1)},children:n+1})},n)}))})})})]})},d=r(28127),p=r(57689),m=r(63924);var f=function(){var e=(0,p.useRouteLoaderData)("customer-payments").payments;return(0,l.jsx)(i.Suspense,{fallback:(0,l.jsx)("p",{children:"Loading...."}),children:(0,l.jsx)(p.Await,{resolve:e,children:function(e){return(0,l.jsx)(u,{payments:e})}})})};function x(){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)((0,t.Z)().mark((function e(){var n,r,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,d.bW)(),e.next=3,fetch("https://flask-inventory.onrender.com/customer/payment",{method:"GET",headers:{Authorization:"Bearer "+n,"Access-Control-Allow-Origin":"*"}});case 3:if((r=e.sent).ok){e.next=6;break}throw(0,m.json)({message:"No payments loaded"},{status:500});case 6:return e.next=8,r.json();case 8:return a=e.sent,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return v.apply(this,arguments)}function v(){return(v=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.defer)({payments:x()}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=926.189318e6.chunk.js.map