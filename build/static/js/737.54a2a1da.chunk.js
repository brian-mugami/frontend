"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[737,285],{63285:function(e,t,n){n.r(t),n.d(t,{action:function(){return d}});var s=n(74165),a=n(15861),r=n(57689),i=n(11087),c=n(63924),o=n(28127),l=n(72791),u=n(80184);function d(e){return m.apply(this,arguments)}function m(){return(m=(0,a.Z)((0,s.Z)().mark((function e(t){var n,a,r,i,l,u,d,m,g,f;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.request,a=t.params,r=n.method,e.next=4,n.formData();case 4:if(i=e.sent,l=(0,o.bW)(),u={account_name:i.get("accName"),account_description:i.get("accDesc"),account_number:i.get("accNum")},d="https://flask-inventory.onrender.com/inventory-adjustment/account","POST"!==r){e.next=21;break}return e.next=11,fetch(d,{method:r,headers:{"Content-Type":"application/json",Authorization:"Bearer "+l,"Access-Control-Allow-Origin":"*"},body:JSON.stringify(u)});case 11:if(409!==(m=e.sent).status){e.next=14;break}return e.abrupt("return",m);case 14:if(400!==m.status){e.next=16;break}return e.abrupt("return",m);case 16:if(m.ok){e.next=18;break}throw(0,c.json)({message:"Failed to save the account"},{status:500});case 18:case 30:return e.abrupt("return",(0,c.redirect)("/account/inv-adj"));case 21:return g=a.id,d="https://flask-inventory.onrender.com/inventory-adjustment/account/"+g,e.next=25,fetch(d,{method:r,headers:{"Content-Type":"application/json",Authorization:"Bearer "+l,"Access-Control-Allow-Origin":"*"},body:JSON.stringify(u)});case 25:if(400!==(f=e.sent).status){e.next=28;break}return e.abrupt("return",f);case 28:if(f.ok){e.next=30;break}throw(0,c.json)({message:"Failed to update the account"},{status:500});case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(e){var t=e.method,n=e.title,s=e.account,a=(0,r.useNavigate)(),c=(0,r.useNavigation)(),o=(0,r.useActionData)(),d="submitting"===c.state;return(0,u.jsxs)(l.Fragment,{children:[o&&o.errors&&(0,u.jsx)("ul",{children:Object.values(o.errors).map((function(e){return(0,u.jsx)("li",{children:e},e)}))}),o&&o.message&&(0,u.jsx)("p",{children:o.message}),(0,u.jsx)(i.l0,{method:t,children:(0,u.jsxs)("div",{className:"border-b border-gray-900/10 pb-12",children:[(0,u.jsxs)("h2",{className:"text-base font-semibold leading-7 text-gray-900",children:["Create ",n," Account"]}),(0,u.jsx)("p",{className:"mt-1 text-sm leading-6 text-gray-600",children:"Input details here."}),(0,u.jsxs)("div",{className:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6",children:[(0,u.jsxs)("div",{className:"sm:col-span-2 sm:col-start-1",children:[(0,u.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium leading-6 text-gray-900",children:"account name"}),(0,u.jsx)("div",{className:"mt-2",children:(0,u.jsx)("input",{type:"text",name:"accName",required:!0,defaultValue:s?s.account_name:"",placeholder:"account name",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,u.jsxs)("div",{className:"sm:col-span-2",children:[(0,u.jsx)("label",{htmlFor:"region",className:"block text-sm font-medium leading-6 text-gray-900",children:"account description"}),(0,u.jsx)("div",{className:"mt-2",children:(0,u.jsx)("input",{type:"text",name:"accDesc",rows:"5",placeholder:"account description",defaultValue:s?s.account_description:"",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,u.jsxs)("div",{className:"sm:col-span-2",children:[(0,u.jsx)("label",{htmlFor:"Item-Volume",className:"block text-sm font-medium leading-6 text-gray-900",children:"account number"}),(0,u.jsx)("div",{className:"mt-2",children:(0,u.jsx)("input",{type:"text",name:"accNum",required:!0,defaultValue:s?s.account_number:"",placeholder:"account number",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]})]}),(0,u.jsxs)("div",{className:" px-4 py-3 pb-10 text-right sm:px-6",children:[(0,u.jsx)("button",{type:"button",onClick:function(){a("..")},disabled:d,className:"inline-flex justify-center rounded-md bg-indigo-600 mr-5 py-2 px-3 text-sm font-semibold text-white  hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",children:"Cancel"}),(0,u.jsx)("button",{disabled:d,className:"inline-flex justify-center rounded-md bg-indigo-600 py-2 px-3 text-sm font-semibold text-white  hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",children:d?"Submitting...":"Save"})]})]})})]})}},33737:function(e,t,n){n.r(t);n(72791);var s=n(63285),a=n(11226),r=n(80184);t.default=function(){var e=(0,a.useRouteLoaderData)("inv-adj-account-detail").account;return(0,r.jsx)(s.default,{method:"patch",title:"Inventory Adjustment",account:e})}}}]);
//# sourceMappingURL=737.54a2a1da.chunk.js.map