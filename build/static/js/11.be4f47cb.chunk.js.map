{"version":3,"file":"static/js/11.be4f47cb.chunk.js","mappings":"wQAwHA,MArHA,SAA6B,GAAY,IAAXA,EAAO,EAAPA,QACtBC,GAAQC,EAAAA,EAAAA,oBAAmB,QAC3BC,GAASC,EAAAA,EAAAA,MACTC,GAAWC,EAAAA,EAAAA,eAajB,OACE,iBAAKC,UAAU,0BAAyB,WACtC,eAAIA,UAAU,6BAA4B,SAAC,aAC3C,gBAAKA,UAAU,2BAA0B,UACvC,mBAAOA,UAAU,sCAAqC,WACpD,kBAAOA,UAAU,aAAY,UAC3B,yBACE,eACEC,MAAM,MACND,UAAU,iFAAgF,SAC3F,8BAKL,kBAAOA,UAAU,oCAAmC,UAClD,iCACE,gBAAIA,UAAU,mDAAkD,WAC9D,gBAAIA,UAAU,gEAA+D,UAC1E,IAAI,gBACS,QAEhB,gBAAIA,UAAU,oDAAmD,UAC9D,IACAP,EAAQS,QAAQC,SAASC,cAAe,WAG7C,gBAAIJ,UAAU,mDAAkD,WAC9D,gBAAIA,UAAU,oDAAmD,UAC9D,IAAI,iBACU,QAEjB,gBAAIA,UAAU,oDAAmD,UAC9D,IACAP,EAAQS,QAAQG,eAAgB,WAGrC,2BACE,gBAAIL,UAAU,oDAAmD,UAC9D,IAAI,eACQ,QAEf,gBAAIA,UAAU,oDAAmD,UAC9D,IACAP,EAAQa,KAAM,WAGnB,2BACE,eAAIN,UAAU,oDAAmD,SAAC,kBAGlE,eAAIA,UAAU,oDAAmD,SAC9DP,EAAQS,QAAQI,OACb,QAER,2BACE,gBAAIN,UAAU,oDAAmD,UAC9D,IAAI,WACI,QAEX,gBAAIA,UAAU,oDAAmD,UAC9D,IACAP,EAAQc,SAAU,WAGvB,2BACE,gBAAIP,UAAU,oDAAmD,UAC9D,IAAI,UACG,QAEV,gBAAIA,UAAU,oDAAmD,UAC9D,IACAP,EAAQS,QAAQM,iBAAiB,GAAGC,QAAS,WAGlD,wBACGf,IACC,6BACE,gBAAIM,UAAU,oDAAmD,UAC9D,KACD,mBAAQU,QAvF5B,WACkBC,OAAOC,QAAQ,kBAG7BhB,EAAO,KAAM,CAAEiB,OAAQ,UAE3B,EAiFwD,SAAC,WAAgB,QAEvD,gBAAIb,UAAU,oDAAmD,UAC9D,KACD,mBAAQU,QA/F5B,WACEZ,EAAS,KACX,EA6FmD,SAAC,SAAc,QAEhD,gBAAIE,UAAU,oDAAmD,UAC9D,KACD,SAAC,KAAI,CAACc,GAAG,OAAM,SAAC,6BAWtC,ECtGA,MAPA,WACE,IAAMrB,GAAWE,EAAAA,EAAAA,oBAAmB,2BACpC,OACE,SAAC,EAAmB,CAACF,QAASA,GAElC,EAIO,SAAesB,EAAO,GAAD,+BAqB3B,8CArBM,kGAG6D,OAHrCC,EAAM,EAANA,OAAe,EAAPC,QAC/BC,EAAKF,EAAOE,GACZxB,GAAQyB,EAAAA,EAAAA,MACJ,yDAAyD,EAAD,OAC3CC,MADb,yDACyBF,EAAI,CACrCL,OAAQ,MACRQ,QAAS,CACPC,cAAe,UAAY5B,EAC3B,8BAA+B,OAEhC,KAAD,EANY,GAOU,OAPlB6B,EAAQ,QAODC,OAAc,iBACc,OAAvCb,OAAOc,MAAM,0BAA0B,mBAChCC,EAAAA,EAAAA,UAAS,sBAAoB,WAEjCH,EAASI,GAAG,CAAD,sBACRC,EAAAA,EAAAA,MAAK,CAAEC,QAAS,2BAA6B,CAAEL,OAAQ,MAAO,KAAD,oBAG/CD,EAASK,OAAO,KAAD,GAAxB,OAAPE,EAAO,yBACNA,GAAO,6CACf,sB","sources":["components/CustomerPaymentComponents/CustomerPaymentItem.js","pages/CustomerPaymentsPage/CustomerPaymentDetailPage.js"],"sourcesContent":["import React from \"react\";\r\nimport { useSubmit, Link, useRouteLoaderData, useNavigate } from \"react-router-dom\";\r\n\r\nfunction CustomerPaymentItem({payment}) {\r\n  const token = useRouteLoaderData(\"root\");\r\n  const submit = useSubmit();\r\n  const navigate = useNavigate()\r\n\r\n  function cancelHandler() {\r\n    navigate(\"..\");\r\n  }\r\n\r\n  function startDeleteHandler() {\r\n    const proceed = window.confirm(\"Are you sure?\");\r\n\r\n    if (proceed) {\r\n      submit(null, { method: \"delete\" });\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"max-w-screen-lg mx-auto\">\r\n      <h2 className=\"text-lg font-semibold mb-4\">Payment</h2>\r\n      <div className=\"shadow border rounded-md\">\r\n        <table className=\"min-w-full divide-y divide-gray-200\">\r\n          <thead className=\"bg-gray-50\">\r\n            <tr>\r\n              <th\r\n                scope=\"col\"\r\n                className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n              >\r\n                Payment information.\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n            <>\r\n              <tr className=\"hover:bg-gray-100 transition-colors duration-200\">\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                  {\" \"}\r\n                  Customer name{\" \"}\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                  {\" \"}\r\n                  {payment.receipt.customer.customer_name}{\" \"}\r\n                </td>\r\n              </tr>\r\n              <tr className=\"hover:bg-gray-100 transition-colors duration-200\">\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                  {\" \"}\r\n                  Invoice number{\" \"}\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                  {\" \"}\r\n                  {payment.receipt.receipt_number}{\" \"}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                  {\" \"}\r\n                  Payment Date{\" \"}\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                  {\" \"}\r\n                  {payment.date}{\" \"}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                  Invoice Date\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                  {payment.receipt.date}\r\n                </td>{\" \"}\r\n              </tr>\r\n              <tr>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                  {\" \"}\r\n                  Currency{\" \"}\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                  {\" \"}\r\n                  {payment.currency}{\" \"}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                  {\" \"}\r\n                  Balance{\" \"}\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                  {\" \"}\r\n                  {payment.receipt.customer_balance[0].balance}{\" \"}\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                {token && (\r\n                  <menu>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                      {\" \"}\r\n                      <button onClick={startDeleteHandler}>Delete</button>{\" \"}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                      {\" \"}\r\n                      <button onClick={cancelHandler}>Back</button>{\" \"}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                      {\" \"}\r\n                      <Link to=\"edit\">Edit</Link>\r\n                    </td>\r\n                  </menu>\r\n                )}\r\n              </tr>\r\n            </>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CustomerPaymentItem","import React from \"react\";\r\nimport { getAuthToken } from \"../../util/Auth\";\r\nimport {\r\n  json,\r\n  redirect,\r\n  useRouteLoaderData,\r\n} from \"react-router-dom\";\r\nimport CustomerPaymentItem from \"../../components/CustomerPaymentComponents/CustomerPaymentItem\";\r\n\r\nfunction CustomerPaymentDetailPage() {\r\n  const payment  = useRouteLoaderData(\"customer-payment-detail\");\r\n  return (\r\n    <CustomerPaymentItem payment={payment} />\r\n  );\r\n}\r\n\r\nexport default CustomerPaymentDetailPage;\r\n\r\nexport async function loader({ params, request }) {\r\n  const id = params.id;\r\n  const token = getAuthToken();\r\n  let url = \"https://flask-inventory.onrender.com/customer/payment/\";\r\n  const response = await fetch(url + id, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + token,\r\n      \"Access-Control-Allow-Origin\": \"*\",\r\n    },\r\n  });\r\n  if (response.status === 404) {\r\n    window.alert(\"Payment does not exist\");\r\n    return redirect(\"/customer-payment\");\r\n  }\r\n  if (!response.ok) {\r\n    throw json({ message: \"This is a wrong request\" }, { status: 500 });\r\n  }\r\n\r\n  const resData = await response.json();\r\n  return resData;\r\n}\r\n"],"names":["payment","token","useRouteLoaderData","submit","useSubmit","navigate","useNavigate","className","scope","receipt","customer","customer_name","receipt_number","date","currency","customer_balance","balance","onClick","window","confirm","method","to","loader","params","request","id","getAuthToken","fetch","headers","Authorization","response","status","alert","redirect","ok","json","message","resData"],"sourceRoot":""}