"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[5886],{65886:function(e,r,s){s.r(r),s.d(r,{default:function(){return x},loadUsers:function(){return j},loader:function(){return p}});var n=s(74165),t=s(15861),i=s(57689),a=s(63924),c=s(72791),u=s(11087),o=s(61549),d=s(80184);var l=function(e){var r=e.users;return(0,d.jsx)(c.Fragment,{children:(0,d.jsx)("div",{className:"pt-10",children:(0,d.jsxs)(o.Zb,{children:[(0,d.jsx)(o.Dx,{children:"List of Users"}),(0,d.jsxs)(o.iA,{className:"mt-5",children:[(0,d.jsx)(o.ss,{children:(0,d.jsxs)(o.SC,{children:[(0,d.jsx)(o.xs,{children:"Email"}),(0,d.jsx)(o.xs,{children:"Date Registered"}),(0,d.jsx)(o.xs,{children:"Role"})]})}),(0,d.jsx)(o.RM,{children:r.map((function(e){return(0,d.jsxs)(o.SC,{children:[(0,d.jsx)(u.rU,{to:"./".concat(e.id),children:(0,d.jsx)(o.pj,{children:(0,d.jsx)(o.xv,{children:e.email})})}),(0,d.jsx)(o.pj,{children:(0,d.jsx)(o.xv,{children:e.date_registered})}),(0,d.jsx)(o.pj,{children:(0,d.jsx)(o.xv,{children:!0===e.is_admin?"Admin":"User"})}),(0,d.jsx)(o.pj,{children:(0,d.jsx)("div",{className:"space-x-4",children:(0,d.jsx)(u.rU,{to:"".concat(e.id,"/edit"),children:(0,d.jsx)(o.Ct,{size:"md",children:"Edit"})})})})]},e.id)}))})]})]})})})},h=s(28127);var x=function(){var e=(0,i.useLoaderData)();return(0,d.jsx)(l,{users:e})};function j(){return f.apply(this,arguments)}function f(){return(f=(0,t.Z)((0,n.Z)().mark((function e(){var r,s,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,h.getAuthToken)(),e.next=3,fetch("https://inventory-accounting.onrender.com/users",{headers:{Authorization:"Bearer "+r}});case 3:if(400!==(s=e.sent).status){e.next=6;break}throw(0,a.json)({message:"Only Admin is able to see this page."},{status:400});case 6:if(401!==s.status){e.next=8;break}throw(0,a.json)({message:"You are not logged in."},{status:401});case 8:if(s.ok){e.next=10;break}throw(0,a.json)({message:"Could not fetch users."},{status:500});case 10:return e.next=12,s.json();case 12:return t=e.sent,console.log(t),e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return m.apply(this,arguments)}function m(){return(m=(0,t.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a.defer,e.next=3,j();case 3:return e.t1=e.sent,e.t2={users:e.t1},e.abrupt("return",(0,e.t0)(e.t2));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=5886.9005a1d5.chunk.js.map