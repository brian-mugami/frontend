{"version":3,"file":"static/js/7619.ea90f2db.chunk.js","mappings":"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","sources":["components/AccountComponents/InvAdjAccountForm.js","pages/InventoryAdjustmentAccountPages/NewInvAdjPage.js"],"sourcesContent":["import {\r\n  Form,\r\n  redirect,\r\n  useNavigate,\r\n  useNavigation,\r\n  json,\r\n} from \"react-router-dom\";\r\nimport { getAuthToken } from \"../../util/Auth\";\r\nimport { useActionData } from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nfunction InvAdjAccountForm({ method, title, account }) {\r\n  const navigate = useNavigate();\r\n  const navigation = useNavigation();\r\n  const data = useActionData();\r\n\r\n  const isSubmitting = navigation.state === \"submitting\";\r\n  function cancelHandler() {\r\n    navigate(\"..\");\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {data && data.errors && (\r\n        <ul>\r\n          {Object.values(data.errors).map((err) => (\r\n            <li key={err}>{err}</li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n      {data && data.message && <p>{data.message}</p>}\r\n      <Form method={method}>\r\n        <div className=\"border-b border-gray-900/10 pb-12\">\r\n          <h2 className=\"text-base font-semibold leading-7 text-gray-900\">\r\n            Create {title} Account\r\n          </h2>\r\n          <p className=\"mt-1 text-sm leading-6 text-gray-600\">\r\n            Input details here.\r\n          </p>\r\n\r\n          <div className=\"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6\">\r\n            <div className=\"sm:col-span-2 sm:col-start-1\">\r\n              <label\r\n                htmlFor=\"name\"\r\n                className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n              >\r\n                account name\r\n              </label>\r\n              <div className=\"mt-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"accName\"\r\n                  required\r\n                  defaultValue={account ? account.account_name : \"\"}\r\n                  placeholder=\"account name\"\r\n                  className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"sm:col-span-2\">\r\n              <label\r\n                htmlFor=\"region\"\r\n                className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n              >\r\n                account description\r\n              </label>\r\n              <div className=\"mt-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"accDesc\"\r\n                  rows=\"5\"\r\n                  placeholder=\"account description\"\r\n                  defaultValue={account ? account.account_description : \"\"}\r\n                  className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"sm:col-span-2\">\r\n              <label\r\n                htmlFor=\"Item-Volume\"\r\n                className=\"block text-sm font-medium leading-6 text-gray-900\"\r\n              >\r\n                account number\r\n              </label>\r\n              <div className=\"mt-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"accNum\"\r\n                  required\r\n                  defaultValue={account ? account.account_number : \"\"}\r\n                  placeholder=\"account number\"\r\n                  className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\" px-4 py-3 pb-10 text-right sm:px-6\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={cancelHandler}\r\n              disabled={isSubmitting}\r\n              className=\"inline-flex justify-center rounded-md bg-indigo-600 mr-5 py-2 px-3 text-sm font-semibold text-white  hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              disabled={isSubmitting}\r\n              className=\"inline-flex justify-center rounded-md bg-indigo-600 py-2 px-3 text-sm font-semibold text-white  hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500\"\r\n            >\r\n              {isSubmitting ? \"Submitting...\" : \"Save\"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </Form>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default InvAdjAccountForm;\r\n\r\nexport async function action({ request, params }) {\r\n  const method = request.method;\r\n  const data = await request.formData();\r\n  const token = getAuthToken();\r\n\r\n  const accountData = {\r\n    account_name: data.get(\"accName\"),\r\n    account_description: data.get(\"accDesc\"),\r\n    account_number: data.get(\"accNum\"),\r\n  };\r\n\r\n  let url = \"https://inventory-accounting.onrender.com/inventory-adjustment/account\";\r\n  if (method === \"POST\") {\r\n    const response = await fetch(url, {\r\n      method: method,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n      },\r\n      body: JSON.stringify(accountData),\r\n    });\r\n    if (response.status === 409) {\r\n      return response;\r\n    }\r\n    if (response.status === 400) {\r\n      return response;\r\n    }\r\n\r\n    if (!response.ok) {\r\n      throw json({ message: \"Failed to save the account\" }, { status: 500 });\r\n    }\r\n\r\n    return redirect(\"/account/inv-adj\");\r\n  } else {\r\n    const id = params.id;\r\n    url = \"/inventory-adjustment/account/\" + id;\r\n    const response = await fetch(url, {\r\n      method: method,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n      },\r\n      body: JSON.stringify(accountData),\r\n    });\r\n    if (response.status === 400) {\r\n      return response;\r\n    }\r\n\r\n    if (!response.ok) {\r\n      throw json({ message: \"Failed to update the account\" }, { status: 500 });\r\n    }\r\n\r\n    return redirect(\"/account/inv-adj\");\r\n  }\r\n}\r\n","import InvAdjAccountForm from \"../../components/AccountComponents/InvAdjAccountForm\";\r\n\r\nfunction NewInvAdjAccountPage() {\r\n  return <InvAdjAccountForm method=\"post\" title=\"Inventory Adjustment\" />;\r\n}\r\n\r\nexport default NewInvAdjAccountPage;"],"names":["action","request","params","method","formData","data","token","getAuthToken","accountData","account_name","get","account_description","account_number","url","fetch","headers","Authorization","body","JSON","stringify","response","status","ok","json","message","redirect","id","title","account","navigate","useNavigate","navigation","useNavigation","useActionData","isSubmitting","state","errors","Object","values","map","err","className","htmlFor","type","name","required","defaultValue","placeholder","rows","onClick","disabled"],"sourceRoot":""}