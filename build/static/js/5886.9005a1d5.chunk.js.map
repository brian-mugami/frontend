{"version":3,"file":"static/js/5886.9005a1d5.chunk.js","mappings":"ySA4DA,MA9CA,SAAkB,GAAY,IAAVA,EAAK,EAALA,MAClB,OACE,SAAC,WAAc,WACb,gBAAKC,UAAU,QAAO,UACpB,UAAC,KAAI,YACH,SAAC,KAAK,UAAC,mBACP,UAAC,KAAK,CAACA,UAAU,OAAM,WACrB,SAAC,KAAS,WACR,UAAC,KAAQ,YACP,SAAC,KAAe,UAAC,WACjB,SAAC,KAAe,UAAC,qBACjB,SAAC,KAAe,UAAC,eAIrB,SAAC,KAAS,UACPD,EAAME,KAAI,SAACC,GAAI,OACd,UAAC,KAAQ,YACP,SAAC,KAAI,CAACC,GAAE,YAAOD,EAAKE,IAAK,UACvB,SAAC,KAAS,WACR,SAAC,KAAI,UAAEF,EAAKG,aAGhB,SAAC,KAAS,WACR,SAAC,KAAI,UAAEH,EAAKI,qBAEd,SAAC,KAAS,WACR,SAAC,KAAI,WAAoB,IAAlBJ,EAAKK,SAAoB,QAAU,YAE5C,SAAC,KAAS,WACR,gBAAKP,UAAU,YAAW,UACxB,SAAC,KAAI,CAACG,GAAE,UAAKD,EAAKE,GAAE,SAAQ,UAC1B,SAAC,KAAK,CAACI,KAAK,KAAI,SAAC,iBAfVN,EAAKE,GAmBT,eAQ3B,E,WC/CA,MAPA,WACE,IAAML,GAASU,EAAAA,EAAAA,iBACf,OACM,SAAC,EAAQ,CAACV,MAAOA,GAEzB,EAIO,SAAeW,IAAS,+BAoC9B,8CApCM,6FACuB,OAAtBC,GAAQC,EAAAA,EAAAA,gBAAe,EAAD,OACLC,MAAM,kDAAmD,CAC9EC,QAAS,CACPC,cAAe,UAAYJ,KAE5B,KAAD,EAJY,GAMU,OANlBK,EAAQ,QAMDC,OAAc,sBACnBC,EAAAA,EAAAA,MACJ,CACEC,QAAS,wCAEX,CAAEF,OAAQ,MACV,KAAD,KAGqB,MAApBD,EAASC,OAAc,sBACnBC,EAAAA,EAAAA,MACJ,CACEC,QAAS,0BAEX,CAAEF,OAAQ,MACV,KAAD,KAEED,EAASI,GAAG,CAAD,sBACRF,EAAAA,EAAAA,MACJ,CACEC,QAAS,0BAEX,CAAEF,OAAQ,MACV,KAAD,oBAEgBD,EAASE,OAAO,KAAD,GAChB,OADZG,EAAI,OACVC,QAAQC,IAAIF,GAAM,kBACXA,GAAI,6CACZ,sBAEM,SAAeG,IAAM,+BAI3B,8CAJM,mFACO,OADP,KACEC,EAAAA,MAAK,SACGf,IAAW,OAAnB,OAAmB,kBAAxBX,MAAM,EAAD,kFAER,sB","sources":["components/UserComponents/Userlist.js","pages/UserPages/Users.js"],"sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Card, Title } from \"@tremor/react\";\r\nimport {\r\n  Table,\r\n  TableHead,\r\n  TableRow,\r\n  TableHeaderCell,\r\n  TableBody,\r\n  TableCell,\r\n  Text,\r\n  Badge,\r\n} from \"@tremor/react\";\r\n\r\nfunction UserList({ users }) {\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"pt-10\">\r\n        <Card>\r\n          <Title>List of Users</Title>\r\n          <Table className=\"mt-5\">\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableHeaderCell>Email</TableHeaderCell>\r\n                <TableHeaderCell>Date Registered</TableHeaderCell>\r\n                <TableHeaderCell>Role</TableHeaderCell>\r\n              </TableRow>\r\n            </TableHead>\r\n\r\n            <TableBody>\r\n              {users.map((user) => (\r\n                <TableRow key={user.id}>\r\n                  <Link to={`./${user.id}`}>\r\n                    <TableCell>\r\n                      <Text>{user.email}</Text>\r\n                    </TableCell>\r\n                  </Link>\r\n                  <TableCell>\r\n                    <Text>{user.date_registered}</Text>\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <Text>{user.is_admin === true ? \"Admin\" : \"User\"}</Text>\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <div className=\"space-x-4\">\r\n                      <Link to={`${user.id}/edit`}>\r\n                        <Badge size=\"md\">Edit</Badge>\r\n                      </Link>\r\n                    </div>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </Card>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default UserList;\r\n","import { defer, json, useLoaderData} from \"react-router-dom\";\r\nimport UserList from \"../../components/UserComponents/Userlist\";\r\nimport { getAuthToken } from \"../../util/Auth\";\r\n\r\nfunction UsersPage() {\r\n  const users  = useLoaderData();\r\n  return (\r\n        <UserList users={users} />\r\n  );\r\n}\r\n\r\nexport default UsersPage;\r\n\r\nexport async function loadUsers() {\r\n  const token = getAuthToken();\r\n  const response = await fetch(\"https://inventory-accounting.onrender.com/users\", {\r\n    headers: {\r\n      Authorization: \"Bearer \" + token,\r\n    },\r\n  });\r\n\r\n  if (response.status === 400) {\r\n    throw json(\r\n      {\r\n        message: \"Only Admin is able to see this page.\",\r\n      },\r\n      { status: 400 }\r\n    );\r\n  }\r\n\r\n  if (response.status === 401) {\r\n    throw json(\r\n      {\r\n        message: \"You are not logged in.\",\r\n      },\r\n      { status: 401 }\r\n    );\r\n  }\r\n  if (!response.ok) {\r\n    throw json(\r\n      {\r\n        message: \"Could not fetch users.\",\r\n      },\r\n      { status: 500 }\r\n    );\r\n  }\r\n  const data = await response.json();\r\n  console.log(data);\r\n  return data;\r\n}\r\n\r\nexport async function loader() {\r\n  return defer({\r\n    users: await loadUsers(),\r\n  });\r\n}\r\n"],"names":["users","className","map","user","to","id","email","date_registered","is_admin","size","useLoaderData","loadUsers","token","getAuthToken","fetch","headers","Authorization","response","status","json","message","ok","data","console","log","loader","defer"],"sourceRoot":""}