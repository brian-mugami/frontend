"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[720],{99720:function(e,t,n){n.r(t);var a=n(74165),r=n(15861),o=n(29439),i=n(72791),l=n(31084),c=n(28127),s=n(11226),u=n(80184);t.default=function(){var e=(0,s.useRouteLoaderData)("invoice-detail"),t=(0,s.useNavigate)(),n=(0,i.useState)(null),d=(0,o.Z)(n,2),f=d[0],p=d[1],h=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(r){var o,i,l;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),o=(0,c.bW)(),(i=new FormData).append("file",f),n.prev=4,n.next=7,fetch("/invoice/upload/".concat(e.id),{method:"POST",headers:{Authorization:"Bearer "+o},body:i});case 7:400===(l=n.sent).status&&window.alert("Only PDF attachment are allowed!!"),l.ok?window.confirm("File uploaded successfully! Do you want to go to the invoice page?")&&t(".."):window.alert("failed to upload"),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(4),window.alert("Network error",n.t0);case 15:case"end":return n.stop()}}),n,null,[[4,12]])})));return function(e){return n.apply(this,arguments)}}();return(0,u.jsx)(l.Z,{children:(0,u.jsx)("form",{onSubmit:h,children:(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsx)("label",{htmlFor:"formFileMultiple",className:"form-label",children:(0,u.jsx)("b",{children:"Invoice Attachment"})}),(0,u.jsx)("input",{name:"file",className:"form-control",type:"file",id:"formFileMultiple",onChange:function(e){p(e.target.files[0])},required:!0}),(0,u.jsx)("br",{}),(0,u.jsx)("button",{className:"btn btn-success",type:"submit",children:"Submit"}),(0,u.jsx)("button",{className:"btn btn-warning",type:"button",onClick:function(){t("..")},children:"Cancel"})]})})})}}}]);
//# sourceMappingURL=720.d998fdab.chunk.js.map