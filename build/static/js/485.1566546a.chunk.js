"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[485],{5485:function(e,t,r){r.r(t),r.d(t,{action:function(){return l}});var n=r(4165),a=r(5861),s=(r(2791),r(7689)),o=r(1087),u=r(1989),i=r(1084),c=r(8127),p=r(184);function l(e){return m.apply(this,arguments)}function m(){return(m=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,s,o,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.request,r=t.params,a=(0,c.bW)(),s=r.id,o="/customer/payment/approve/"+s,e.next=6,fetch(o,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a,"Access-Control-Allow-Origin":"*"}});case 6:if(400!==(i=e.sent).status){e.next=9;break}return e.abrupt("return",i);case 9:if(404!==i.status){e.next=11;break}return e.abrupt("return",i);case 11:if(500!==i.status){e.next=13;break}return e.abrupt("return",i);case 13:if(i.ok){e.next=16;break}throw window.alert("Failed to approve payment"),(0,u.json)({message:"Failed to approve payment"},{status:500});case 16:return e.abrupt("return",(0,u.redirect)("/customer-payment"));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(){var e=(0,s.useRouteLoaderData)("customer-payment-detail"),t=(0,s.useActionData)(),r=(0,s.useNavigation)(),n=(0,s.useNavigate)(),a="submitting"===r.state;return(0,p.jsxs)(i.Z,{children:[(0,p.jsx)("h3",{className:"text-base font-semibold leading-7 text-gray-900",children:"Payment Approval Form"}),t&&t.errors&&(0,p.jsx)("ul",{children:Object.values(t.errors).map((function(e){return(0,p.jsx)("li",{children:e},e)}))}),t&&t.message&&(0,p.jsx)("p",{children:t.message}),(0,p.jsxs)(o.l0,{method:"post",children:[(0,p.jsxs)("p",{className:"mt-1 text-sm leading-6 text-gray-600",children:["Are you sure you want to approve this payment of ",e.currency," ",e.amount," "]}),(0,p.jsxs)("p",{className:"mt-1 text-sm leading-6 text-gray-600",children:["From ",(0,p.jsx)("strong",{children:"customer"}),":",e.receipt.customer.customer_name," ","To ",(0,p.jsx)("strong",{children:"bank"})," :",e.account.account_name]}),(0,p.jsxs)("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:[(0,p.jsx)("button",{type:"submit",disabled:a,children:a?"Receiving":"Receive"}),(0,p.jsx)("button",{type:"button",onClick:function(){n("/customer-payment")},children:"No"})]})]})]})}}}]);
//# sourceMappingURL=485.1566546a.chunk.js.map