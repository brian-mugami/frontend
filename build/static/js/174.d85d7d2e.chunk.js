"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[174],{74174:function(e,t,n){n.r(t),n.d(t,{loader:function(){return d}});var r=n(74165),s=n(15861),a=n(29439),u=n(72791),i=n(57689),c=n(11087),o=n(11226),p=n(28127),l=n(80184);function h(){return f.apply(this,arguments)}function f(){return(f=(0,s.Z)((0,r.Z)().mark((function e(){var t,n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,p.bW)(),e.next=3,fetch("https://flask-inventory.onrender.com/supplier",{method:"get",headers:{Authorization:"Bearer "+t}});case 3:if((n=e.sent).ok){e.next=8;break}throw(0,o.json)({message:"Cant get suppliers"},{status:500});case 8:return e.next=10,n.json();case 10:return s=e.sent,console.log(s),e.abrupt("return",s);case 13:case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return b.apply(this,arguments)}function b(){return(b=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o.defer,e.next=3,h();case 3:return e.t1=e.sent,e.t2={suppliers:e.t1},e.abrupt("return",(0,e.t0)(e.t2));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(e){var t=e.onSearch,n=(0,i.useNavigate)(),r=(0,i.useNavigation)(),s=(0,u.useState)(""),p=(0,a.Z)(s,2),h=p[0],f=p[1],d="submitting"===r.state,b=(0,o.useLoaderData)().suppliers;return(0,l.jsx)(u.Fragment,{children:(0,l.jsxs)(c.l0,{id:"search-form",onSubmit:function(e){e.preventDefault(),t(h)},children:[(0,l.jsx)("label",{children:"Search the supplier"}),(0,l.jsx)("input",{required:!0,name:"supplier_name",type:"text",list:"options",placeholder:"search supplier",value:h,onChange:function(e){f(e.target.value)}}),(0,l.jsx)("datalist",{id:"options",children:b.map((function(e){return(0,l.jsx)("option",{value:e.supplier_name},e.id)}))}),(0,l.jsx)("button",{disabled:d||0===h.length,type:"submit",className:"btn btn-success",children:"Search"}),(0,l.jsx)("button",{onClick:function(){n("..")},type:"button",className:"btn btn-dark",children:"Cancel"})]})})}}}]);
//# sourceMappingURL=174.d85d7d2e.chunk.js.map